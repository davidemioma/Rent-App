services:
  client:
    build:
      context: .
      dockerfile: client/Dockerfile
    ports:
      - 3000:3000
    volumes:
      - ./client:/app/client
      - /app/client/node_modules
      - /app/client/.next

  # server:
  #   build:
  #     context: .
  #     dockerfile: server/Dockerfile
  #   volumes:
  #     - .:/app
  #     - go_mod_cache:/go/pkg/mod
  #   ports:
  #     - "8080:8080"
  #   environment:
  #     - GO_ENV=development
  #     - PORT=8080
  #     - DATABASE_URL=postgres://postgres:king123@postgres:5432/rentify-db?sslmode=disable
  #   depends_on:
  #     - postgres

  # postgres:
  #   image: postgis/postgis:16-3.4
  #   environment:
  #     POSTGRES_USER: postgres
  #     POSTGRES_PASSWORD: king123
  #     POSTGRES_DB: rentify-db
  #   ports:
  #     - "5433:5432"
  #   volumes:
  #     - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
  go_mod_cache:
# docker compose up --build
